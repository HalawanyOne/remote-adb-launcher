(()=>{var e,t={1240:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){s=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){s.label=c[1];break}if(6===c[0]&&s.label<o[1]){s.label=o[1],o=c;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(c);break}o[2]&&s.ops.pop(),s.trys.pop();continue}c=t.call(e,s)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AdbTransportProtocolHandler=void 0;var s=i(n(298)),c=function(){function e(){}return e.getPayloadLength=function(e){return new DataView(e).getUint32(12,!0)},e.concatBuffers=function(e,t){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n.buffer},e.startPullPushLoop=function(e,t,n,i){return r(this,void 0,void 0,(function(){var r,c,a;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,9,,10]),o.label=1;case 1:return[4,t(24)];case 2:for(r=o.sent();24!==r.byteLength;);return[4,n(r)];case 3:o.sent(),c=this.getPayloadLength(r),s.default.log(i.tag,i.direction,"header",c),o.label=4;case 4:return c>0?[4,t(c)]:[3,7];case 5:return r=o.sent(),[4,n(r)];case 6:return o.sent(),s.default.log(i.tag,i.direction,"payload ".concat(c," bytes")),c-=r.byteLength,[3,4];case 7:if(e())return[3,1];o.label=8;case 8:return[3,10];case 9:return a=o.sent(),s.default.error(i.tag,a),[3,10];case 10:return[2]}}))}))},e.createDataEventHandler=function(e,t){var n=this,i="AWAITING_HEADER",c="AWAITING_PAYLOAD",a=i,u=new ArrayBuffer(0),l=0,d=Promise.resolve(),f=function(d){return r(n,void 0,void 0,(function(){var n,r;return o(this,(function(o){switch(o.label){case 0:switch(u.byteLength>0&&(d=this.concatBuffers(u,d),u=new ArrayBuffer(0)),a){case i:return[3,1];case c:return[3,6]}return[3,13];case 1:return d.byteLength<24?(u=d,s.default.log("Was expecting 24 bytes, but got ".concat(d.byteLength," bytes. Waiting for more data")),[3,5]):[3,2];case 2:return n=d.slice(0,24),[4,e(n)];case 3:return o.sent(),l=this.getPayloadLength(n),s.default.log(t.tag,t.direction,"header",l),l>0&&(a=c),d.byteLength>24?[4,f(d.slice(24))]:[3,5];case 4:o.sent(),o.label=5;case 5:return[3,13];case 6:return d.byteLength>l?(r=l,[4,f(d.slice(0,r))]):[3,9];case 7:return o.sent(),[4,f(d.slice(r))];case 8:return o.sent(),[3,12];case 9:return[4,e(d)];case 10:return o.sent(),s.default.log(t.tag,t.direction,"payload ".concat(l," bytes")),0!=(l-=d.byteLength)?[3,12]:(a=i,[4,e((new Uint8Array).buffer)]);case 11:o.sent(),o.label=12;case 12:return[3,13];case 13:return[2]}}))}))};return function(e){d=d.then((function(){return r(n,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,f(e)];case 1:return t.sent(),[2]}}))}))}))}},e}();t.AdbTransportProtocolHandler=c,t.default=c},2878:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){s=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){s.label=c[1];break}if(6===c[0]&&s.label<o[1]){s.label=o[1],o=c;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(c);break}o[2]&&s.ops.pop(),s.trys.pop();continue}c=t.call(e,s)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AdbWebUsbTransport=t.WebUsbDeviceFilter=void 0;var s=n(7007),c=i(n(298)),a=i(n(1240));t.WebUsbDeviceFilter={classCode:255,subclassCode:66,protocolCode:1};var u=function(){function e(e,t){var n=this;this.type="USB",this._connected=!1,this._bytesTransferred={up:0,down:0},this.events=new s.EventEmitter,this.ondisconnect=function(e){return n.events.addListener("disconnect",e)},this.handleDisconnect=function(e){void 0!==e&&e.device!==n._device||(n._connected=!1,n.events.emit("disconnect"))},this._usb=e,this._device=t,this._usb.addEventListener("disconnect",this.handleDisconnect)}return Object.defineProperty(e.prototype,"serial",{get:function(){return this._device.serialNumber},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._device.productName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connected",{get:function(){return this._connected},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._bytesTransferred},enumerable:!1,configurable:!0}),e.prototype.connect=function(){return r(this,void 0,void 0,(function(){var e,n,r,i,s,c,a,u,l,d,f,h,p;return o(this,(function(o){switch(o.label){case 0:return this._device.opened?[3,2]:[4,this._device.open()];case 1:o.sent(),o.label=2;case 2:e=0,n=this._device.configurations,o.label=3;case 3:if(!(e<n.length))return[3,15];r=n[e],i=0,s=r.interfaces,o.label=4;case 4:if(!(i<s.length))return[3,14];c=s[i],a=0,u=c.alternates,o.label=5;case 5:return a<u.length?(l=u[a]).interfaceSubclass!==t.WebUsbDeviceFilter.subclassCode||l.interfaceClass!==t.WebUsbDeviceFilter.classCode||l.interfaceProtocol!==t.WebUsbDeviceFilter.protocolCode?[3,12]:(null===(p=this._device.configuration)||void 0===p?void 0:p.configurationValue)===r.configurationValue?[3,7]:[4,this._device.selectConfiguration(r.configurationValue)]:[3,13];case 6:o.sent(),o.label=7;case 7:return c.claimed?[3,9]:[4,this._device.claimInterface(c.interfaceNumber)];case 8:o.sent(),o.label=9;case 9:return c.alternate.alternateSetting===l.alternateSetting?[3,11]:[4,this._device.selectAlternateInterface(c.interfaceNumber,l.alternateSetting)];case 10:o.sent(),o.label=11;case 11:for(d=0,f=l.endpoints;d<f.length;d++)switch((h=f[d]).direction){case"in":if(this._inEndpointNumber=h.endpointNumber,void 0!==this._outEndpointNumber)return this._connected=!0,[2];break;case"out":if(this._outEndpointNumber=h.endpointNumber,void 0!==this._inEndpointNumber)return this._connected=!0,[2]}o.label=12;case 12:return a++,[3,5];case 13:return i++,[3,4];case 14:return e++,[3,3];case 15:throw new Error("Unknown error while connecting to WebUsb device.")}}))}))},e.prototype.write=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this._device.transferOut(this._outEndpointNumber,e)];case 1:return t.sent(),[2]}}))}))},e.prototype.read=function(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,this._device.transferIn(this._inEndpointNumber,e)];case 1:return"stall"!==(t=n.sent()).status?[3,3]:[4,this._device.clearHalt("in",this._inEndpointNumber)];case 2:n.sent(),n.label=3;case 3:return[2,t.data.buffer]}}))}))},e.prototype.wsSendOrIgnore=function(e,t,n){e.readyState===e.OPEN?(e.send(t),this._bytesTransferred.up+=t.byteLength):c.default.warn(n,"WebSocket is not open. Ignoring sent data")},e.prototype.backendWriteOrIgnore=function(e,t,n){return r(this,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return e.connected?[4,e.write(t)]:(c.default.warn(n,"Device is not connected. Ignoring sent data"),[2]);case 1:return r.sent(),this._bytesTransferred.down+=t.byteLength,[2]}}))}))},e.prototype.readLoop=function(e,t){return r(this,void 0,void 0,(function(){var n=this;return o(this,(function(i){return[2,a.default.startPullPushLoop((function(){return e.connected&&(t.readyState===t.CONNECTING||t.readyState===t.OPEN)}),(function(t){return r(n,void 0,void 0,(function(){return o(this,(function(n){return[2,e.read(t)]}))}))}),(function(i){return r(n,void 0,void 0,(function(){return o(this,(function(n){return[2,this.wsSendOrIgnore(t,i,e.serial)]}))}))}),{tag:e.serial,direction:"==>"})]}))}))},e.prototype.writeLoopCallback=function(e){var t=this,n=a.default.createDataEventHandler((function(n){return r(t,void 0,void 0,(function(){return o(this,(function(t){return[2,this.backendWriteOrIgnore(e,n,e.serial)]}))}))}),{tag:e.serial,direction:"<=="});return function(e){n(e.data)}},e.prototype.pipe=function(e){return r(this,void 0,void 0,(function(){var t=this;return o(this,(function(n){return e.onmessage=this.writeLoopCallback(this),this.readLoop(this,e).then((function(){t.handleDisconnect()})),[2]}))}))},e.prototype.dispose=function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:this._connected=!1,this._usb.removeEventListener("disconnect",this.handleDisconnect),this.events.removeAllListeners(),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this._device.close()];case 2:case 3:return e.sent(),[3,4];case 4:return[2]}}))}))},e}();t.AdbWebUsbTransport=u},391:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){s=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){s.label=c[1];break}if(6===c[0]&&s.label<o[1]){s.label=o[1],o=c;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(c);break}o[2]&&s.ops.pop(),s.trys.pop();continue}c=t.call(e,s)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteAdbDevice=void 0;var a=n(7007),u=c(n(298)),l=n(3959),d=n(1133),f=function(e){function t(t){var n=e.call(this)||this;return n._connecting=!1,n.connect=function(e){return i(n,void 0,void 0,(function(){var t,n,r,o,c=this;return s(this,(function(a){switch(a.label){case 0:this._connecting=!0,a.label=1;case 1:return a.trys.push([1,6,9,10]),[4,this.backend.connect()];case 2:return a.sent(),u.default.log(this.backend.serial,"".concat(this.backend.type," connected")),this.backend.ondisconnect((function(){u.default.log(c.backend.serial,"".concat(c.backend.type," closed. Closing WebSocket.")),c.disconnectWebSocket(!0)})),t=this,[4,new Promise((function(t,n){return i(c,void 0,void 0,(function(){var r,o;return s(this,(function(i){switch(i.label){case 0:return[4,e.createWebSocket("")];case 1:return(r=i.sent()).binaryType="arraybuffer",o=!1,r.onopen=function(){o=!0,t(r)},r.onerror=function(){},r.onclose=function(){o||n(new Error("Error connecting to WebSocket"))},[2]}}))}))})).catch((function(e){return i(c,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.disconnectBackend(!1)];case 1:throw t.sent(),e}}))}))}))];case 3:return t.ws=a.sent(),this.ws.onerror=function(e){u.default.log(c.backend.serial,"WebSocket error: ".concat(e))},this.ws.onclose=function(e){u.default.log(c.backend.serial,"WebSocket closed (code: ".concat(e.code).concat(e.reason?", reason: ".concat(e.reason):"","). Closing device.")),c.disconnectBackend(!0)},u.default.log(this.backend.serial,"WebSocket connected. Waiting for handshake..."),n={type:"handshake",name:this.name,serial:this.serial},this.ws.send(JSON.stringify(n)),r=this,[4,(0,d.getRemoteHandshake)(this.ws)];case 4:return r.serverHandshake=a.sent(),u.default.log(this.backend.serial,"Connected as ".concat(this.remoteSerial)),[4,this.backend.pipe(this.ws)];case 5:return a.sent(),this.emit("connected",this),[3,10];case 6:return o=a.sent(),u.default.log(this.backend.serial,"Error connecting: ".concat(o.message)),[4,this.disconnectBackend(!1)];case 7:return a.sent(),[4,this.disconnectWebSocket(!1)];case 8:throw a.sent(),o;case 9:return this._connecting=!1,[7];case 10:return[2]}}))}))},n.disconnectBackend=function(e){return i(n,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.backend.dispose()];case 1:return t.sent(),u.default.log(this.backend.serial,"".concat(this.backend.type," closed")),e&&this.emit("disconnected",this),[2]}}))}))},n.disconnectWebSocket=function(e){return i(n,void 0,void 0,(function(){return s(this,(function(t){return this.ws?(this.ws.onclose=void 0,this.ws.close(),u.default.log(this.backend.serial,"WebSocket closed"),e&&this.emit("disconnected",this),[2]):[2]}))}))},n.disconnect=function(){return i(n,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.disconnectBackend(!1)];case 1:return e.sent(),[4,this.disconnectWebSocket(!1)];case 2:return e.sent(),this.emit("disconnected",this),[2]}}))}))},n.backend=t,n}return o(t,e),Object.defineProperty(t.prototype,"serial",{get:function(){return this.backend.serial},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.backend.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remoteSerial",{get:function(){var e;return null===(e=this.serverHandshake)||void 0===e?void 0:e.serial},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this.backend.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connected",{get:function(){var e;return this.backend.connected&&(null===(e=this.ws)||void 0===e?void 0:e.readyState)==l.WebSocket.OPEN&&!this._connecting},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connecting",{get:function(){return this._connecting},enumerable:!1,configurable:!0}),t}(a.EventEmitter);t.RemoteAdbDevice=f},3959:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){s=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){s.label=c[1];break}if(6===c[0]&&s.label<o[1]){s.label=o[1],o=c;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(c);break}o[2]&&s.ops.pop(),s.trys.pop();continue}c=t.call(e,s)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ServerConnection=t.WebSocket=void 0;var s=i(n(7007)),c=i(n(169));t.WebSocket=c.default;var a=i(n(9495)),u=i(n(8931)),l=function(){function e(e){var t=this;this.events=new s.default,this.updateLoopRunning=!1,this.lastServerStatusPromise=Promise.resolve({}),this.cookieJar=void 0,this.login=function(e){return r(t,void 0,void 0,(function(){var t,n,r;return o(this,(function(o){switch(o.label){case 0:return[4,this.fetch("login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e})})];case 1:if(200!==(t=o.sent()).status)throw new Error("Status code ".concat(t.status));return[4,t.json()];case 2:if("OK"!==(n=o.sent()).result)throw new Error(null!==(r=n.message)&&void 0!==r?r:"Unknown error");return[2]}}))}))},this.monitorServerStatus=function(e){return r(t,void 0,void 0,(function(){return o(this,(function(t){return this.events.on("statusChanged",e),this.updateLoopRunning||this.updateStatusLoop(),[2]}))}))},this.getServerStatus=function(){return r(t,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return[4,this.lastServerStatusPromise];case 1:return t.sent(),this.lastServerStatusPromise=this.fetchServerStatus(),[4,this.lastServerStatusPromise];case 2:return e=t.sent(),this.events.emit("statusChanged",e),[2,e]}}))}))},this.updateStatusLoop=function(){return r(t,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return this.updateLoopRunning=!0,[4,this.getServerStatus()];case 1:return e.sent(),setTimeout(this.updateStatusLoop,5e3),[2]}}))}))},this.fetchServerStatus=function(){return r(t,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,this.fetch("status",{headers:{"Content-Type":"application/json"}})];case 1:if(200!==(e=t.sent()).status)throw new Error("Status code ".concat(e.status));return[4,e.json()];case 2:return[2,t.sent()];case 3:return[2,{_error:t.sent().message}];case 4:return[2]}}))}))},this.serverAddress=e,"undefined"!=typeof window&&"function"==typeof fetch?this._fetch=fetch.bind(window):(this.cookieJar=new u.default.toughCookie.CookieJar,this._fetch=(0,u.default)(a.default,this.cookieJar))}return e.prototype.resolveUrl=function(e,t){var n=new URL(e,this.serverAddress);return n.protocol=n.protocol.replace("http",t),n.href},e.prototype.fetch=function(e,t){var n=this.resolveUrl(e,"http");return this._fetch(n,t)},e.prototype.createWebSocket=function(e){return r(this,void 0,void 0,(function(){var t,n,r,i,s,a;return o(this,(function(o){switch(o.label){case 0:return t=this.resolveUrl(null!=e?e:"","ws"),this.cookieJar?(n=c.default.bind,r=[void 0,t],s={},a={},i="Cookie",[4,this.cookieJar.getCookieString(t)]):[3,2];case 1:return[2,new(n.apply(c.default,r.concat([(s.headers=(a[i]=o.sent(),a),s)])))];case 2:return[2,new c.default(t)]}}))}))},e}();t.ServerConnection=l},1639:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){s=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){s.label=c[1];break}if(6===c[0]&&s.label<o[1]){s.label=o[1],o=c;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(c);break}o[2]&&s.ops.pop(),s.trys.pop();continue}c=t.call(e,s)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UsbDeviceManager=void 0;var s=n(7007),c=n(4150),a=i(n(298)),u=n(2878),l=n(391),d=function(){function e(){var e=this;this.events=new s,this.connectedDevices=new Map,this._usb=void 0,this._usbInitialized=!1,this.isSupported=function(){return!!e.usb},this.requestDevice=function(){return r(e,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return[4,this.usb.requestDevice({filters:[u.WebUsbDeviceFilter]})];case 1:return e=t.sent(),this.refreshDevices(),[2,e]}}))}))},this.createRemoteAdbDevice=function(t){var n=new l.RemoteAdbDevice(new u.AdbWebUsbTransport(e.usb,t));return n.on("connected",e.refreshDevices),n.on("disconnected",e.refreshDevices),n},this.refreshDevices=function(){return r(e,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return this.events.listenerCount("devices")?(a.default.log("Refreshing device list"),[4,this.getDevices()]):[2];case 1:return e=t.sent(),this.events.emit("devices",e),[2,e]}}))}))},this.getDevices=function(){return r(e,void 0,void 0,(function(){var e,t,n=this;return o(this,(function(r){switch(r.label){case 0:return e=new Map,[4,this.usb.getDevices()];case 1:return t=r.sent().filter((function(e){var t;return null===(t=e.configuration)||void 0===t?void 0:t.interfaces.some((function(e){return e.alternate.interfaceClass===u.WebUsbDeviceFilter.classCode&&e.alternate.interfaceSubclass===u.WebUsbDeviceFilter.subclassCode&&e.alternate.interfaceProtocol===u.WebUsbDeviceFilter.protocolCode}))})).map((function(t){var r,o=null!==(r=n.connectedDevices.get(t))&&void 0!==r?r:n.createRemoteAdbDevice(t);return e.set(t,o),o})),this.connectedDevices=e,[2,t]}}))}))},this.monitorDevices=function(t){e.events.on("devices",t),e.refreshDevices()},this.events.once("newListener",(function(t,n){e.usb.addEventListener("connect",e.refreshDevices),e.usb.addEventListener("disconnect",e.refreshDevices)}))}return Object.defineProperty(e.prototype,"usb",{get:function(){return this._usbInitialized||("undefined"!=typeof navigator&&(this._usb=null===navigator||void 0===navigator?void 0:navigator.usb),void 0!==c.WebUSB&&(this._usb=new c.WebUSB({allowAllDevices:!0})),this._usbInitialized=!0),this._usb},enumerable:!1,configurable:!0}),e}();t.UsbDeviceManager=new d},1133:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRemoteHandshake=function(e){return new Promise((function(t,n){var r=function(){n(new Error("WebSocket closed while waiting for handshake"))};e.addEventListener("close",r,{once:!0}),e.addEventListener("message",(function(o){try{var i=JSON.parse(o.data);if("handshake"!==i.type)throw new Error("Unexpected handshake message");t(i)}catch(e){n(new Error("Handshake failed: ".concat(e.message)))}finally{e.removeEventListener("close",r)}}),{once:!0})}))}},298:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setLogger=t.logger=void 0;var n=new(function(){function e(){this._logger=console}return e.prototype.setGlobalLogger=function(e){this._logger=e},e.prototype.log=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this._logger).log.apply(e,t)},e.prototype.debug=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this._logger).debug.apply(e,t)},e.prototype.info=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this._logger).info.apply(e,t)},e.prototype.warn=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this._logger).warn.apply(e,t)},e.prototype.error=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this._logger).error.apply(e,t)},e}());t.logger=n,t.setLogger=n.setGlobalLogger.bind(n),t.default=t.logger},411:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.App=function(){var e=(0,o.useState)([]),t=e[0],n=e[1],p=(0,o.useState)(!1),b=p[0],y=p[1],w=(0,o.useState)((function(){return"true"===(null===localStorage||void 0===localStorage?void 0:localStorage.getItem("SettingsAutoConnectDevices"))})),m=w[0],_=w[1];(0,o.useEffect)((function(){h.UsbDeviceManager.isSupported()&&h.UsbDeviceManager.monitorDevices(n)}),[]);var S=(0,o.useCallback)((function(e,t){_(t),null===localStorage||void 0===localStorage||localStorage.setItem("SettingsAutoConnectDevices",t.toString())}),[_]);return h.UsbDeviceManager.isSupported()?(0,r.jsx)("div",{style:{maxWidth:650,margin:"0 auto"},children:(0,r.jsxs)(s.Stack,{tokens:{padding:"l2",childrenGap:"l2"},children:[(0,r.jsx)(s.Stack.Item,{align:"center",children:(0,r.jsx)(c.Text,{variant:"mediumPlus",style:{color:d.NeutralColors.gray130},children:"Share connected Android devices for debugging on the server"})}),(0,r.jsx)(v.Status,{serverConnection:g,setServerConnectionReady:y}),(0,r.jsx)(i.Separator,{children:"Connected Devices"}),(0,r.jsxs)(s.Stack,{horizontal:!0,tokens:{childrenGap:"m",padding:"s"},horizontalAlign:"center",verticalAlign:"center",children:[(0,r.jsx)(c.Text,{children:"Device not visible in the list below?"}),(0,r.jsx)(l.PrimaryButton,{text:"Add device",id:"request",onClick:h.UsbDeviceManager.requestDevice,iconProps:{iconName:"Add"}})]}),(0,r.jsx)(s.Stack.Item,{align:"center",children:(0,r.jsx)(u.Toggle,{label:"Auto-connect devices to remote when available",inlineLabel:!0,onChange:S,checked:m})}),!t.length&&(0,r.jsx)(s.Stack.Item,{align:"center",children:(0,r.jsx)(c.Text,{style:{color:d.NeutralColors.gray90},children:"No devices found"})}),(0,r.jsx)(s.Stack,{tokens:{childrenGap:"l2",padding:"s"},children:t.map((function(e){return(0,r.jsx)(f.Device,{device:e,serverConnection:g,autoConnect:m,serverConnectionReady:b},e.serial)}))})]})}):(0,r.jsx)("div",{style:{maxWidth:650,margin:"0 auto"},children:(0,r.jsxs)(s.Stack,{tokens:{padding:"l2",childrenGap:"l2"},children:[(0,r.jsx)(s.Stack.Item,{align:"center",children:(0,r.jsx)(c.Text,{variant:"large",children:"Unsupported browser or configuration"})}),(0,r.jsx)(s.Stack.Item,{align:"center",children:(0,r.jsxs)(c.Text,{children:["Please make sure:",(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:["That you are using one of ",(0,r.jsx)(a.Link,{href:"https://caniuse.com/webusb",children:"the browsers that support WebUSB API"}),". Microsoft Edge and Google Chrome are supported."]}),!window.isSecureContext&&(0,r.jsxs)("li",{children:['That this page is opened securely with "https". A ',(0,r.jsx)(a.Link,{href:"https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts",children:"secure context"})," is required for the ",(0,r.jsx)(a.Link,{href:"https://developer.mozilla.org/en-US/docs/Web/API/WebUSB_API",children:"WebUSB API"})," to work. "]})]})]})})]})})};var r=n(4848),o=n(6540),i=n(7803),s=n(9444),c=n(7097),a=n(4874),u=n(9230),l=n(2874),d=n(8286),f=n(5162),h=n(1639),p=n(3959),b=n(7735),v=n(1094);(0,b.initializeIcons)();var g=new p.ServerConnection(window.location.href)},5162:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){s=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){s.label=c[1];break}if(6===c[0]&&s.label<o[1]){s.label=o[1],o=c;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(c);break}o[2]&&s.ops.pop(),s.trys.pop();continue}c=t.call(e,s)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Device=function(e){var t=this,n=(0,l.useState)(void 0),r=n[0],o=n[1],i=(0,l.useState)(!1),a=i[0],f=i[1],w=e.device,_=e.serverConnection,S=e.autoConnect,k=e.serverConnectionReady;(0,l.useEffect)((function(){k&&(!S||w.connected||w.connecting||a||x())}),[S,k]);var x=(0,l.useCallback)((function(){return s(t,void 0,void 0,(function(){var e,t,n;return c(this,(function(r){switch(r.label){case 0:e=!0,setTimeout((function(){return f(e)}),100),r.label=1;case 1:return r.trys.push([1,3,,4]),j(),(t=new URL(window.location.href)).protocol=t.protocol.replace("http","ws"),[4,w.connect(_)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),y.default.log(n),o(n.message),[3,4];case 4:return e=!1,f(!1),[2]}}))}))}),[w,o,f]),j=(0,l.useCallback)((function(){o(void 0)}),[o]);return(0,u.jsx)("div",{style:{border:"1px solid",borderColor:g.NeutralColors.gray70},children:(0,u.jsxs)(d.Stack,{tokens:{padding:"m",childrenGap:"m"},children:[(0,u.jsxs)(d.Stack,{horizontal:!0,tokens:{childrenGap:"l1"},verticalAlign:"center",children:[(0,u.jsx)(p.Icon,{iconName:"CellPhone",style:{fontSize:"larger",fontWeight:"bold"}}),(0,u.jsx)(d.Stack.Item,{grow:!0,children:(0,u.jsxs)(h.Label,{children:[w.name," (",w.serial,")"]})}),w.connected?(0,u.jsx)(v.DefaultButton,{text:"Disconnect",onClick:w.disconnect}):a?(0,u.jsx)(v.DefaultButton,{text:"Connecting...",disabled:!0}):(0,u.jsx)(v.PrimaryButton,{text:"Connect to remote",onClick:x})]}),(0,u.jsxs)(d.Stack,{horizontal:!0,tokens:{childrenGap:"l1"},verticalAlign:"center",children:[(0,u.jsx)(d.Stack.Item,{grow:!w.connected,children:r?(0,u.jsxs)(b.MessageBar,{messageBarType:b.MessageBarType.error,isMultiline:!1,onDismiss:j,dismissButtonAriaLabel:"Dismiss",children:['"',r,'"']}):w.connected?(0,u.jsxs)(b.MessageBar,{messageBarType:b.MessageBarType.success,isMultiline:!1,children:["Connected as ",(0,u.jsx)("code",{style:{userSelect:"all"},children:w.remoteSerial})]}):a?(0,u.jsx)(b.MessageBar,{isMultiline:!1,children:"Connecting to remote..."}):(0,u.jsx)(b.MessageBar,{isMultiline:!1,children:"Ready to connect"})}),w.connected&&(0,u.jsx)(d.Stack.Item,{grow:!0,children:" "}),(0,u.jsx)(m,{device:w})]})]})})};var u=n(4848),l=n(6540),d=n(9444),f=n(7097),h=n(6086),p=n(439),b=n(9746),v=n(2874),g=n(8286),y=a(n(298)),w=i(n(5508));function m(e){var t=e.device,n=(0,l.useState)({up:0,down:0,time:0}),r=n[0],o=n[1],i=(0,l.useState)({up:0,down:0}),s=i[0],c=i[1],a=(0,l.useCallback)((function(){var e=(new Date).getTime(),n=e-r.time;c({up:Math.floor(1e3*(t.bytesTransferred.up-r.up)/n),down:Math.floor(1e3*(t.bytesTransferred.down-r.down)/n)}),o({up:t.bytesTransferred.up,down:t.bytesTransferred.down,time:e})}),[c,o,r]);(0,l.useEffect)((function(){var e=null;return t.connected?(0===r.time&&a(),e=setInterval(a,1e3)):clearInterval(e),function(){return clearInterval(e)}}),[t.connected,r]),(0,l.useEffect)((function(){t.connected||(o({up:0,down:0,time:0}),c({up:0,down:0}))}),[t.connected]);var h=(0,l.useCallback)((function(e){return"".concat(w.format(e,{decimalPlaces:1,unitSeparator:" "}),"/s")}),[]);return t.connected&&(0,u.jsxs)(d.Stack,{horizontal:!0,verticalAlign:"center",tokens:{childrenGap:"s1"},children:[(0,u.jsxs)(f.Text,{children:["Up: ",h(s.up)]}),(0,u.jsx)(f.Text,{children:" "}),(0,u.jsxs)(f.Text,{children:["Down: ",h(s.down)]})]})}},1094:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){s=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){s.label=c[1];break}if(6===c[0]&&s.label<o[1]){s.label=o[1],o=c;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(c);break}o[2]&&s.ops.pop(),s.trys.pop();continue}c=t.call(e,s)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.Status=function(e){var t=this,n=(0,a.useState)(!1),r=n[0],s=n[1],l=(0,a.useState)(void 0),d=l[0],v=l[1],w=(0,a.useState)(!1),m=w[0],_=w[1],S=(0,a.useState)(!1),k=S[0],x=S[1],j=(0,a.useState)(!1),P=j[0],C=j[1],D=e.serverConnection,O=e.setServerConnectionReady,T=(0,a.useCallback)((function(e){return o(t,void 0,void 0,(function(){return i(this,(function(t){return e._error?(v("Cannot get server status: ".concat(e._error)),O(!1)):(v(void 0),_(e.loginSupported),x(e.loginRequired),e.loginSupported&&e.loginRequired?O(!1):O(!0)),s(!0),[2]}))}))}),[s,_,x,v,O]);(0,a.useEffect)((function(){D.monitorServerStatus(T)}),[T]),(0,a.useMemo)((function(){r&&C(!d&&m&&k)}),[r,d,m,k]);var L=(0,a.useCallback)((function(){x(!1),O(!0),D.getServerStatus()}),[x,O]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(b.Separator,{children:"Server Status"}),(0,c.jsxs)(u.Stack,{tokens:{padding:"0 l2"},children:[r?(0,c.jsxs)(c.Fragment,{children:[d?(0,c.jsx)(y,{type:h.MessageBarType.error,message:d}):(0,c.jsx)(y,{type:h.MessageBarType.success,message:"Server reachable",muted:!0}),!d&&m&&(k?(0,c.jsx)(y,{type:h.MessageBarType.warning,message:"Authentication required",actions:(0,c.jsx)(p.MessageBarButton,{text:"Login",id:"request",onClick:function(){return C(!0)}})}):(0,c.jsx)(y,{type:h.MessageBarType.success,message:"Authentication successful",muted:!0}))]}):(0,c.jsx)(f.ProgressIndicator,{label:"Connecting to server..."}),(0,c.jsx)(g,{showDialog:P,setShowDialog:C,onLoginSuccess:L,serverConnection:D})]})]})};var c=n(4848),a=n(6540),u=n(9444),l=n(3450),d=n(1349),f=n(4464),h=n(9746),p=n(2874),b=n(7803);function v(){var e=(0,a.useState)(!1),t=e[0],n=e[1];return(0,a.useEffect)((function(){var e=setTimeout((function(){n(!0)}),200);return function(){return clearTimeout(e)}}),[]),t?(0,c.jsx)(f.ProgressIndicator,{}):null}function g(e){var t=this,n=(0,a.useState)(void 0),r=n[0],s=n[1],u=(0,a.useState)(!1),f=u[0],b=u[1],g=(0,a.useState)(!1),y=g[0],w=g[1],m=(0,a.useState)(void 0),_=m[0],S=m[1],k=e.showDialog,x=e.setShowDialog,j=e.onLoginSuccess,P=e.serverConnection,C=(0,a.useCallback)((function(){x(!1)}),[x]),D=(0,a.useCallback)((function(){s(void 0),b(!1)}),[s,b]),O=(0,a.useCallback)((function(e){S(e.target.value)}),[S]),T=(0,a.useCallback)((function(){s(void 0)}),[s]),L=(0,a.useCallback)((function(e){w(!1),s(e)}),[w,s]),M=(0,a.useCallback)((function(e){return o(t,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:T(),w(!0),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,P.login(_)];case 2:return t.sent(),w(!1),b(!0),j(),[3,4];case 3:return e=t.sent(),L("Login failed: ".concat(e.message)),[3,4];case 4:return[2]}}))}))}),[_,T,w,L,b,C,j]);return(0,c.jsxs)(l.Dialog,{hidden:!k,onDismiss:C,dialogContentProps:{type:l.DialogType.normal,title:"Login"},modalProps:{isBlocking:!0,onDismissed:D},children:[r&&(0,c.jsx)(h.MessageBar,{messageBarType:h.MessageBarType.error,isMultiline:!1,onDismiss:T,dismissButtonAriaLabel:"Dismiss",children:r}),y&&(0,c.jsx)(v,{}),(0,c.jsxs)("form",{children:[(0,c.jsx)(d.TextField,{label:"Password",type:"password",autoFocus:!0,onChange:O}),(0,c.jsxs)(l.DialogFooter,{children:[(0,c.jsx)(p.PrimaryButton,{type:"submit",onClick:M,text:"Login",disabled:y||f}),(0,c.jsx)(p.DefaultButton,{onClick:C,text:"Cancel",disabled:y||f})]})]})]})}function y(e){var t=e.type,n=e.muted,o=e.message,i=s(e,["type","muted","message"]);return(0,c.jsx)(h.MessageBar,r({messageBarType:t,isMultiline:!1,styles:n&&{root:{background:"transperant"}}},i,{children:o}))}},1423:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s=n(4848),c=i(n(961)),a=n(411);window.addEventListener("load",(function(){c.render((0,s.jsx)(a.App,{}),document.querySelector("#container"))}))},8931:()=>{},9495:()=>{},4150:()=>{}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,n,o,i)=>{if(!n){var s=1/0;for(l=0;l<e.length;l++){for(var[n,o,i]=e[l],c=!0,a=0;a<n.length;a++)(!1&i||s>=i)&&Object.keys(r.O).every((e=>r.O[e](n[a])))?n.splice(a--,1):(c=!1,i<s&&(s=i));if(c){e.splice(l--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[n,o,i]},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[s,c,a]=n,u=0;if(s.some((t=>0!==e[t]))){for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(a)var l=a(r)}for(t&&t(n);u<s.length;u++)i=s[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(l)},n=self.webpackChunkremote_adb=self.webpackChunkremote_adb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[121],(()=>r(1423)));o=r.O(o)})();
//# sourceMappingURL=main.7c651efa5921f40251eb.bundle.js.map